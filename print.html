<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Recipe Formatter</title>
        <link rel="stylesheet" href="/style.css">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Jacques+Francois&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Orelega+One&family=Red+Hat+Display:ital,wght@0,300..900;1,300..900&display=swap" rel="stylesheet">
    </head>
    <body class="homepage">
        <header-component></header-component>
        <main>
            <div class="flex-row flex-centered">
                 <div id="print-preview">
                    <h2>Print Preview:</h2>
                    <img src='pdf_preview.png'>
                </div>
                <div class="flex-column flex-centered">
                    <button class="big-button">Download PDF</button>
                    <a href="index.html"><button class="big-button">Start Over</button></a>
                </div>
            </div>
           
        </main>
        
        
       <script src="header.js"></script>
        <script>
            let container = document.getElementById('print-preview');

            // async function addPicture() {
            //     const pdf_generated= await fetch('http://127.0.0.1:3000/generate-pdf')
            //         .then(response => response.json())
            //         .then(data => {
            //             console.log("Data from server:", data);
            //             // Use the data to update the UI
            //         })
            //         .catch(error => console.error('Error fetching data:', error));
            // }
    


            // async function loadPreviewImage() {
            //     try {
            //         // Just check if the PDF generation was successful (no data needed)
            //         const response = await fetch('http://127.0.0.1:3000/generate-pdf', {
            //             method: 'POST'
            //         });
                    
            //         const data = await response.json();
            //         console.log("Data from server:", data);
                    
            //         // Only show the image after successful response
            //         if (data.success) {
            //             container.innerHTML = "<img src='pdf_preview.png?t=" + Date.now() + "'>";
            //         } else {
            //             container.innerHTML = "<p>Error loading PDF preview</p>";
            //         }
                    
            //     } catch (error) {
            //         console.error('Error:', error);
            //         container.innerHTML = "<p>Error connecting to server</p>";
            //     }
            // }

            // // Call the function when page loads
            // loadPreviewImage();


            // container.innerHTML = "<img src='pdf_preview.png'>"
        </script>
</body>
</html>


